{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Documents/erp-sdm-last/src/utils.ts"],"sourcesContent":["\nexport const calculateDistance = (lat1: number, lon1: number, lat2: number, lon2: number): number => {\n  const R = 6371e3; // metres\n  const φ1 = (lat1 * Math.PI) / 180;\n  const φ2 = (lat2 * Math.PI) / 180;\n  const Δφ = ((lat2 - lat1) * Math.PI) / 180;\n  const Δλ = ((lon2 - lon1) * Math.PI) / 180;\n\n  const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\n          Math.cos(φ1) * Math.cos(φ2) *\n          Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n  return R * c; // in metres\n};\n\nexport const formatCurrency = (amount: number) => {\n  return new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR',\n    maximumFractionDigits: 0\n  }).format(amount);\n};\n\nexport const escapeHTML = (text: string): string => {\n  return text\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;');\n};\n\nexport const sendTelegramNotification = async (token: string, chatId: string, message: string) => {\n  if (!token || !chatId) return;\n  try {\n    const response = await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        chat_id: chatId,\n        text: message,\n        parse_mode: 'HTML',\n      }),\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.description || `API Error ${response.status}`);\n    }\n  } catch (error: any) {\n    console.error(\"Gagal mengirim Telegram:\", error.message || error);\n  }\n};\n\nexport const sendTelegramDocument = async (token: string, chatId: string, pdfBlob: Blob, filename: string, caption: string) => {\n  if (!token || !chatId) return;\n  try {\n    const formData = new FormData();\n    formData.append('chat_id', chatId);\n    formData.append('document', pdfBlob, filename);\n    formData.append('caption', caption);\n    formData.append('parse_mode', 'HTML');\n\n    const response = await fetch(`https://api.telegram.org/bot${token}/sendDocument`, {\n      method: 'POST',\n      body: formData,\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.description || `API Error ${response.status}`);\n    }\n  } catch (error: any) {\n    console.error(\"Gagal mengirim Dokumen Telegram:\", error.message || error);\n    throw error;\n  }\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AACO,MAAM,oBAAoB,CAAC,MAAc,MAAc,MAAc;IAC1E,MAAM,IAAI,QAAQ,SAAS;IAC3B,MAAM,KAAK,AAAC,OAAO,KAAK,EAAE,GAAI;IAC9B,MAAM,KAAK,AAAC,OAAO,KAAK,EAAE,GAAI;IAC9B,MAAM,KAAK,AAAC,CAAC,OAAO,IAAI,IAAI,KAAK,EAAE,GAAI;IACvC,MAAM,KAAK,AAAC,CAAC,OAAO,IAAI,IAAI,KAAK,EAAE,GAAI;IAEvC,MAAM,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,KAAK,GAAG,CAAC,KAAK,KACnC,KAAK,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,MACxB,KAAK,GAAG,CAAC,KAAK,KAAK,KAAK,GAAG,CAAC,KAAK;IACzC,MAAM,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;IAErD,OAAO,IAAI,GAAG,YAAY;AAC5B;AAEO,MAAM,iBAAiB,CAAC;IAC7B,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,MAAM,aAAa,CAAC;IACzB,OAAO,KACJ,OAAO,CAAC,MAAM,SACd,OAAO,CAAC,MAAM,QACd,OAAO,CAAC,MAAM;AACnB;AAEO,MAAM,2BAA2B,OAAO,OAAe,QAAgB;IAC5E,IAAI,CAAC,SAAS,CAAC,QAAQ;IACvB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,CAAC,4BAA4B,EAAE,MAAM,YAAY,CAAC,EAAE;YAC/E,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,SAAS;gBACT,MAAM;gBACN,YAAY;YACd;QACF;QACA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,WAAW,IAAI,CAAC,UAAU,EAAE,SAAS,MAAM,EAAE;QACzE;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,4BAA4B,MAAM,OAAO,IAAI;IAC7D;AACF;AAEO,MAAM,uBAAuB,OAAO,OAAe,QAAgB,SAAe,UAAkB;IACzG,IAAI,CAAC,SAAS,CAAC,QAAQ;IACvB,IAAI;QACF,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,WAAW;QAC3B,SAAS,MAAM,CAAC,YAAY,SAAS;QACrC,SAAS,MAAM,CAAC,WAAW;QAC3B,SAAS,MAAM,CAAC,cAAc;QAE9B,MAAM,WAAW,MAAM,MAAM,CAAC,4BAA4B,EAAE,MAAM,aAAa,CAAC,EAAE;YAChF,QAAQ;YACR,MAAM;QACR;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,WAAW,IAAI,CAAC,UAAU,EAAE,SAAS,MAAM,EAAE;QACzE;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,oCAAoC,MAAM,OAAO,IAAI;QACnE,MAAM;IACR;AACF"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Documents/erp-sdm-last/src/components/Payroll.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport { User, UserRole, UserSalaryConfig, PayrollRecord, Attendance, AppSettings } from '../types';\nimport { formatCurrency, sendTelegramDocument } from '../utils';\nimport { CreditCard, Users, Settings, Send, FileText, CheckCircle2, AlertCircle, Download, Landmark, History as HistoryIcon, Eye, Zap, Trash2 } from 'lucide-react';\nimport { useToast } from './Toast';\n\ndeclare var jspdf: any;\n\ninterface PayrollProps {\n  currentUser: User;\n  users: User[];\n  salaryConfigs: UserSalaryConfig[];\n  attendance: Attendance[];\n  settings: AppSettings;\n  payrollRecords: PayrollRecord[];\n  onUpdateSalary: (config: UserSalaryConfig) => void;\n  onAddPayroll: (record: PayrollRecord) => void;\n  toast: ReturnType<typeof useToast>;\n}\n\nconst PayrollModule: React.FC<PayrollProps> = ({ \n  currentUser, users, salaryConfigs, attendance, settings, payrollRecords, onUpdateSalary, onAddPayroll, toast\n}) => {\n  const [activeTab, setActiveTab] = useState<'MANAGEMENT' | 'HISTORY'>('MANAGEMENT');\n  const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0, 7)); // YYYY-MM\n  const [editingConfig, setEditingConfig] = useState<UserSalaryConfig | null>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [previewData, setPreviewData] = useState<{ user: User, record: PayrollRecord } | null>(null);\n\n  const getAttendanceStats = (userId: string, month: string) => {\n    const filtered = attendance.filter(a => {\n      const d = new Date(a.date);\n      const mStr = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}`;\n      return a.userId === userId && mStr === month;\n    });\n\n    return {\n      totalHadir: filtered.length,\n      totalTelat: filtered.filter(a => a.isLate).length\n    };\n  };\n\n  const calculateRecord = (user: User, month: string): PayrollRecord | null => {\n    const config = salaryConfigs.find(c => c.userId === user.id);\n    if (!config) return null;\n\n    const stats = getAttendanceStats(user.id, month);\n    const totalMeal = stats.totalHadir * config.mealAllowance;\n    const lateDeduction = stats.totalTelat * config.lateDeduction;\n    const net = config.basicSalary + config.allowance + totalMeal - lateDeduction;\n\n    return {\n      id: Math.random().toString(36).substr(2, 9),\n      userId: user.id,\n      month: month,\n      basicSalary: config.basicSalary,\n      allowance: config.allowance,\n      totalMealAllowance: totalMeal,\n      bonus: 0,\n      deductions: lateDeduction,\n      netSalary: net,\n      isSent: false,\n      processedAt: Date.now(),\n      metadata: {\n        totalHadir: stats.totalHadir,\n        totalTelat: stats.totalTelat\n      }\n    };\n  };\n\n  const generatePDF = async (user: User, record: PayrollRecord) => {\n    if (!(window as any).jspdf) {\n      const script = document.createElement('script');\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js';\n      document.head.appendChild(script);\n      await new Promise(resolve => script.onload = resolve);\n    }\n\n    const { jsPDF } = (window as any).jspdf;\n    const doc = new jsPDF();\n    const p = settings.companyProfile;\n    const logoPos = p.logoPosition || 'top';\n    const textAlgn = p.textAlignment || 'center';\n\n    let currentY = 20;\n    const pageWidth = 210;\n    const margin = 20;\n\n    // Header Logic\n    if (logoPos === 'top') {\n      if (p.logoUrl) {\n        const logoW = 25, logoH = 25;\n        let logoX = (pageWidth / 2) - (logoW / 2);\n        if (textAlgn === 'left') logoX = margin;\n        if (textAlgn === 'right') logoX = pageWidth - margin - logoW;\n        try { doc.addImage(p.logoUrl, 'PNG', logoX, currentY, logoW, logoH); } catch(e){}\n        currentY += logoH + 8;\n      }\n      doc.setFontSize(22);\n      doc.setFont('helvetica', 'bold');\n      doc.text(p.name.toUpperCase(), textAlgn === 'center' ? 105 : (textAlgn === 'left' ? margin : pageWidth - margin), currentY, { align: textAlgn });\n      currentY += 8;\n      doc.setFontSize(9);\n      doc.setFont('helvetica', 'normal');\n      doc.text(p.address, textAlgn === 'center' ? 105 : (textAlgn === 'left' ? margin : pageWidth - margin), currentY, { align: textAlgn });\n      currentY += 5;\n      doc.text(`Telp: ${p.phone}`, textAlgn === 'center' ? 105 : (textAlgn === 'left' ? margin : pageWidth - margin), currentY, { align: textAlgn });\n      currentY += 10;\n    } else if (logoPos === 'left') {\n      const logoW = 30, logoH = 30;\n      if (p.logoUrl) try { doc.addImage(p.logoUrl, 'PNG', margin, currentY, logoW, logoH); } catch(e){}\n      const textX = margin + (p.logoUrl ? logoW + 10 : 0);\n      doc.setFontSize(18); doc.setFont('helvetica', 'bold');\n      doc.text(p.name.toUpperCase(), textX, currentY + 10);\n      doc.setFontSize(9); doc.setFont('helvetica', 'normal');\n      doc.text(p.address, textX, currentY + 16, { maxWidth: pageWidth - textX - margin });\n      doc.text(`Telp: ${p.phone}`, textX, currentY + 24);\n      currentY += Math.max(logoH, 30) + 10;\n    } else if (logoPos === 'right') {\n      const logoW = 30, logoH = 30;\n      if (p.logoUrl) try { doc.addImage(p.logoUrl, 'PNG', pageWidth - margin - logoW, currentY, logoW, logoH); } catch(e){}\n      const textXEnd = pageWidth - margin - (p.logoUrl ? logoW + 10 : 0);\n      doc.setFontSize(18); doc.setFont('helvetica', 'bold');\n      doc.text(p.name.toUpperCase(), textXEnd, currentY + 10, { align: 'right' });\n      doc.setFontSize(9); doc.setFont('helvetica', 'normal');\n      doc.text(p.address, textXEnd, currentY + 16, { align: 'right', maxWidth: textXEnd - margin });\n      doc.text(`Telp: ${p.phone}`, textXEnd, currentY + 24, { align: 'right' });\n      currentY += Math.max(logoH, 30) + 10;\n    }\n\n    doc.setDrawColor(30, 41, 59); doc.setLineWidth(0.8);\n    doc.line(margin, currentY, pageWidth - margin, currentY);\n    currentY += 15;\n\n    // Slip Content\n    doc.setFontSize(16); doc.setFont('helvetica', 'bold');\n    doc.text('SLIP GAJI KARYAWAN', 105, currentY, { align: 'center' });\n    currentY += 8;\n    doc.setFontSize(10); doc.setFont('helvetica', 'normal');\n    doc.text(`Periode: ${record.month}`, 105, currentY, { align: 'center' });\n    currentY += 20;\n\n    doc.text(`Nama: ${user.name}`, margin, currentY);\n    doc.text(`Jabatan: ${user.role}`, margin, currentY + 7);\n    currentY += 25;\n\n    doc.setFillColor(248, 250, 252);\n    doc.rect(margin, currentY, 170, 10, 'F');\n    doc.setFont('helvetica', 'bold');\n    doc.text('KOMPONEN PENERIMAAN', margin + 5, currentY + 7);\n    doc.text('NOMINAL', 150, currentY + 7);\n    currentY += 15;\n\n    const row = (l: string, v: number) => {\n      doc.setFont('helvetica', 'normal');\n      doc.text(l, margin + 5, currentY);\n      doc.text(formatCurrency(v), 150, currentY);\n      currentY += 8;\n    };\n\n    row('Gaji Pokok', record.basicSalary);\n    row('Tunjangan Jabatan', record.allowance);\n    row(`Uang Makan (${record.metadata?.totalHadir || 0} hari)`, record.totalMealAllowance);\n    row('Bonus', record.bonus);\n\n    currentY += 5;\n    doc.setFillColor(248, 250, 252);\n    doc.rect(margin, currentY, 170, 10, 'F');\n    doc.setFont('helvetica', 'bold');\n    doc.text('POTONGAN', margin + 5, currentY + 7);\n    currentY += 15;\n    row(`Potongan Telat (${record.metadata?.totalTelat || 0} event)`, record.deductions);\n\n    currentY += 10;\n    doc.setLineWidth(0.5); doc.line(margin, currentY, pageWidth - margin, currentY);\n    currentY += 12;\n    doc.setFontSize(12); doc.text('TOTAL DITERIMA (THP)', margin + 5, currentY);\n    doc.text(formatCurrency(record.netSalary), 150, currentY);\n\n    currentY += 40;\n    doc.setFontSize(10); doc.text('Penerima,', 40, currentY, { align: 'center' });\n    doc.text('Admin SDM,', 160, currentY, { align: 'center' });\n    currentY += 25;\n    doc.text(`( ${user.name} )`, 40, currentY, { align: 'center' });\n    doc.text(`( Finance Team )`, 160, currentY, { align: 'center' });\n\n    return doc.output('blob');\n  };\n\n  const handleSendSingle = async (user: User, record: PayrollRecord) => {\n    setIsProcessing(true);\n    try {\n      if (user.telegramId && settings.telegramBotToken) {\n        const pdfBlob = await generatePDF(user, record);\n        await sendTelegramDocument(settings.telegramBotToken, user.telegramId, pdfBlob, `Slip_${user.username}_${record.month}.pdf`, `Slip Gaji ${record.month} telah dikirim.`);\n        onAddPayroll({ ...record, isSent: true });\n        toast.success(`Slip gaji ${record.month} untuk ${user.name} berhasil dikirim via Telegram!`);\n      } else {\n        toast.warning(\"ID Telegram karyawan atau Token Bot belum diset. Pastikan:\\n- Tab Settings sudah diisi BOT API TOKEN\\n- User memiliki Telegram ID numerik.\");\n      }\n    } catch (e: any) {\n      console.error('Gagal kirim slip via Telegram:', e);\n      const errorMsg = e?.message || 'Terjadi kesalahan saat mengirim slip via Telegram.';\n      if (errorMsg.includes('chat not found')) {\n        toast.error('Chat tidak ditemukan. Pastikan Telegram ID benar dan user sudah memulai chat dengan bot.');\n      } else if (errorMsg.includes('Unauthorized')) {\n        toast.error('Token bot tidak valid. Periksa BOT API TOKEN di Settings.');\n      } else {\n        toast.error(errorMsg + ' Periksa kembali token bot, Telegram ID, dan koneksi internet Anda.');\n      }\n    } finally {\n      setIsProcessing(false);\n      setPreviewData(null);\n    }\n  };\n\n  const handleBulkSend = async () => {\n    const confirming = window.confirm(`Kirim slip gaji masal ke semua karyawan periode ${selectedMonth}?`);\n    if (!confirming) return;\n    setIsProcessing(true);\n    let sentCount = 0;\n    let failedCount = 0;\n    for (const user of users.filter(u => u.role !== UserRole.OWNER)) {\n      const record = calculateRecord(user, selectedMonth);\n      if (!record) continue;\n\n      if (!user.telegramId || !settings.telegramBotToken) {\n        console.warn(`Lewati ${user.username}: Telegram ID atau BOT TOKEN belum di-set.`);\n        failedCount++;\n        continue;\n      }\n\n      try {\n        const pdfBlob = await generatePDF(user, record);\n        await sendTelegramDocument(settings.telegramBotToken, user.telegramId, pdfBlob, `Slip_${user.username}_${selectedMonth}.pdf`, `Slip Gaji Masal ${selectedMonth}.`);\n        onAddPayroll({ ...record, isSent: true });\n        sentCount++;\n      } catch (e) {\n        console.error(`Gagal kirim slip untuk ${user.username}:`, e);\n        failedCount++;\n      }\n    }\n    setIsProcessing(false);\n    if (sentCount > 0) {\n      toast.success(`${sentCount} slip berhasil dikirim.${failedCount > 0 ? ` ${failedCount} gagal (periksa Telegram ID dan token bot).` : ''}`);\n    } else {\n      toast.error(`Tidak ada slip yang berhasil dikirim. Periksa konfigurasi Telegram di Settings.`);\n    }\n  };\n\n  return (\n    <div className=\"space-y-8 animate-in fade-in duration-500 pb-20\">\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\n        <div>\n          <h3 className=\"text-4xl font-black text-slate-800 tracking-tighter italic leading-none\">Payroll Center</h3>\n          <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em] mt-3\">Sukses Digital Media Slip Engine</p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <input type=\"month\" className=\"p-4 bg-white border-2 border-slate-100 rounded-[1.5rem] font-black text-xs outline-none focus:border-blue-600 shadow-sm\" value={selectedMonth} onChange={e => setSelectedMonth(e.target.value)} />\n          <button onClick={handleBulkSend} disabled={isProcessing} className=\"bg-emerald-600 text-white px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center shadow-xl hover:bg-emerald-700 transition disabled:opacity-50\">\n            <Zap size={16} className=\"mr-2\" /> KIRIM MASAL\n          </button>\n          <button onClick={() => setActiveTab(activeTab === 'MANAGEMENT' ? 'HISTORY' : 'MANAGEMENT')} className=\"bg-slate-900 text-white px-6 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center shadow-xl hover:bg-blue-600 transition\">\n            {activeTab === 'MANAGEMENT' ? <HistoryIcon className=\"mr-2\" size={16} /> : <Users className=\"mr-2\" size={16} />}\n            {activeTab === 'MANAGEMENT' ? 'RIWAYAT' : 'KELOLA'}\n          </button>\n        </div>\n      </div>\n\n      {activeTab === 'MANAGEMENT' ? (\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"bg-white rounded-[3.5rem] lg:col-span-2 shadow-xl border border-slate-100 overflow-hidden flex flex-col h-full\">\n              <div className=\"p-10 border-b bg-slate-50/50 flex justify-between items-center\">\n                <h4 className=\"font-black text-slate-800 text-lg uppercase tracking-tight italic\">Employee Payroll Management</h4>\n              </div>\n              <div className=\"overflow-x-auto flex-1 custom-scrollbar\">\n                <table className=\"w-full text-left\">\n                  <thead className=\"bg-slate-50 border-b border-slate-100\">\n                    <tr>\n                      <th className=\"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Karyawan</th>\n                      <th className=\"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Jabatan</th>\n                      <th className=\"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">THP Estimasi</th>\n                      <th className=\"px-8 py-5 text-right text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]\">Aksi</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-slate-50\">\n                    {users.filter(u => u.role !== UserRole.OWNER).map(user => {\n                      const record = calculateRecord(user, selectedMonth);\n                      return (\n                        <tr key={user.id} className=\"hover:bg-slate-50/50 transition-colors\">\n                          <td className=\"px-8 py-5\">\n                            <div className=\"flex items-center gap-4\">\n                              <div className=\"w-10 h-10 bg-slate-900 text-white rounded-xl flex items-center justify-center font-black text-sm shadow-sm\">\n                                {user.name.charAt(0)}\n                              </div>\n                              <span className=\"font-bold text-slate-800 text-sm\">{user.name}</span>\n                            </div>\n                          </td>\n                          <td className=\"px-8 py-5\">\n                            <span className=\"px-3 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-widest\">{user.role}</span>\n                          </td>\n                          <td className=\"px-8 py-5\">\n                            <span className=\"font-black text-slate-800 text-sm\">{record ? formatCurrency(record.netSalary) : 'N/A'}</span>\n                          </td>\n                          <td className=\"px-8 py-5 text-right flex justify-end gap-2\">\n                            <button onClick={() => setEditingConfig(salaryConfigs.find(c => c.userId === user.id) || { userId: user.id, basicSalary: 0, allowance: 0, mealAllowance: 0, lateDeduction: 0 })} className=\"p-3 bg-slate-100 text-slate-400 rounded-xl hover:bg-blue-600 hover:text-white transition\" title=\"Config Salary\">\n                              <Settings size={16} />\n                            </button>\n                            <button onClick={() => record && setPreviewData({ user, record })} className=\"p-3 bg-emerald-50 text-emerald-600 rounded-xl hover:bg-emerald-600 hover:text-white transition shadow-sm\" title=\"Preview Slip\">\n                              <Eye size={16} />\n                            </button>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          <div className=\"bg-slate-900 text-white p-10 rounded-[3.5rem] shadow-2xl relative overflow-hidden\">\n             <div className=\"absolute top-0 right-0 w-32 h-32 bg-blue-500/20 blur-3xl rounded-full -mr-16 -mt-16\"></div>\n             <Landmark className=\"text-blue-400 mb-8\" size={32} />\n             <h4 className=\"text-2xl font-black italic uppercase tracking-tight mb-8\">Summary {selectedMonth}</h4>\n             <div className=\"space-y-4 pt-8 border-t border-white/5\">\n                <div className=\"flex justify-between items-center\">\n                   <span className=\"text-[10px] font-black text-slate-500 uppercase\">TOTAL KARYAWAN</span>\n                   <span className=\"text-lg font-black\">{users.length - 1} Orang</span>\n                </div>\n                <div className=\"flex justify-between items-center bg-blue-600 p-6 rounded-[2rem] shadow-xl\">\n                   <span className=\"text-[10px] font-black text-white uppercase\">TOTAL PAYOUT</span>\n                   <span className=\"text-xl font-black text-white\">{formatCurrency(users.filter(u => u.role !== UserRole.OWNER).reduce((acc, u) => acc + (calculateRecord(u, selectedMonth)?.netSalary || 0), 0))}</span>\n                </div>\n             </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-[3.5rem] shadow-xl border border-slate-100 overflow-hidden\">\n          <table className=\"w-full text-left\">\n            <thead>\n              <tr className=\"bg-slate-50/50 text-slate-400 text-[9px] font-black uppercase tracking-[0.2em] border-b\">\n                <th className=\"px-10 py-6\">KARYAWAN</th>\n                <th className=\"px-10 py-6\">BULAN</th>\n                <th className=\"px-10 py-6\">NOMINAL</th>\n                <th className=\"px-10 py-6 text-right\">AKSI</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-50\">\n              {payrollRecords.slice().reverse().map(rec => {\n                const user = users.find(u => u.id === rec.userId);\n                return (\n                  <tr key={rec.id} className=\"hover:bg-blue-50/20 transition-colors\">\n                    <td className=\"px-10 py-6 flex items-center space-x-3\">\n                       <div className=\"w-8 h-8 rounded-lg bg-slate-900 text-white flex items-center justify-center font-black text-[10px]\">{user?.name.charAt(0)}</div>\n                       <span className=\"text-xs font-black text-slate-800\">{user?.name}</span>\n                    </td>\n                    <td className=\"px-10 py-6 text-[10px] font-black uppercase text-slate-400\">{rec.month}</td>\n                    <td className=\"px-10 py-6 text-sm font-black text-blue-600\">{formatCurrency(rec.netSalary)}</td>\n                    <td className=\"px-10 py-6 text-right\">\n                       <button onClick={() => user && setPreviewData({ user, record: rec })} className=\"p-3 bg-slate-100 text-slate-400 rounded-xl hover:bg-blue-600 hover:text-white transition\">\n                          <Eye size={16} />\n                       </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Preview Slip Modal */}\n      {previewData && (\n        <div className=\"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/95 backdrop-blur-xl p-4 overflow-y-auto\">\n          <div className=\"bg-white rounded-[3.5rem] w-full max-w-2xl my-8 shadow-2xl border border-white/20 animate-in zoom-in duration-300\">\n            <div className=\"p-10 border-b flex justify-between items-center bg-slate-50/50\">\n              <div>\n                <h3 className=\"text-2xl font-black text-slate-800 italic uppercase tracking-tighter leading-none\">Slip Preview</h3>\n                <p className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-2\">{previewData.user.name} • {previewData.record.month}</p>\n              </div>\n              <button onClick={() => setPreviewData(null)} className=\"p-4 bg-slate-200 rounded-2xl hover:bg-rose-500 hover:text-white transition\">✕</button>\n            </div>\n            <div className=\"p-10 space-y-8\">\n              <div className=\"bg-white border-2 border-slate-100 rounded-[2rem] p-8 shadow-inner relative overflow-hidden flex flex-col\">\n                <div className=\"absolute top-0 left-0 right-0 h-1 bg-blue-600\"></div>\n                <div className={`flex w-full items-center gap-4 mb-8 ${\n                  settings.companyProfile.logoPosition === 'top' ? 'flex-col' : \n                  settings.companyProfile.logoPosition === 'right' ? 'flex-row-reverse' : 'flex-row'\n                }`}>\n                  {settings.companyProfile.logoUrl && (\n                    <img src={settings.companyProfile.logoUrl} className=\"h-14 w-auto object-contain\" alt=\"Logo\" />\n                  )}\n                  <div className={`flex-1 ${\n                    settings.companyProfile.textAlignment === 'left' ? 'text-left' :\n                    settings.companyProfile.textAlignment === 'right' ? 'text-right' : 'text-center'\n                  }`}>\n                    <h4 className=\"text-base font-black text-slate-800 uppercase leading-none mb-1\">{settings.companyProfile.name}</h4>\n                    <p className=\"text-[8px] font-bold text-slate-400 leading-tight\">{settings.companyProfile.address}</p>\n                    <p className=\"text-[8px] font-black text-blue-600 mt-1\">{settings.companyProfile.phone}</p>\n                  </div>\n                </div>\n                <div className=\"h-[1px] bg-slate-200 mb-6\"></div>\n                <div className=\"text-center mb-6\">\n                  <h5 className=\"text-xs font-black text-slate-800 uppercase tracking-widest\">SLIP GAJI KARYAWAN</h5>\n                  <p className=\"text-[9px] font-bold text-slate-400\">{previewData.record.month}</p>\n                </div>\n                <div className=\"grid grid-cols-2 gap-4 mb-6\">\n                   <div className=\"p-4 bg-slate-50 rounded-xl\">\n                      <p className=\"text-[8px] font-black text-slate-400 uppercase mb-1\">KARYAWAN</p>\n                      <p className=\"text-[10px] font-black text-slate-800\">{previewData.user.name}</p>\n                      <p className=\"text-[9px] font-bold text-slate-500\">{previewData.user.role}</p>\n                   </div>\n                   <div className=\"p-4 bg-slate-50 rounded-xl\">\n                      <p className=\"text-[8px] font-black text-slate-400 uppercase mb-1\">TELEGRAM ID</p>\n                      <p className=\"text-[10px] font-black text-blue-600\">{previewData.user.telegramUsername}</p>\n                   </div>\n                </div>\n                <div className=\"space-y-2 mb-8\">\n                   <div className=\"flex justify-between items-center text-[9px] font-black text-slate-400 border-b pb-1\"><span>ITEM</span><span>NOMINAL</span></div>\n                   <div className=\"flex justify-between text-xs font-bold text-slate-600\"><span>Gaji Pokok</span><span>{formatCurrency(previewData.record.basicSalary)}</span></div>\n                   <div className=\"flex justify-between text-xs font-bold text-slate-600\"><span>Tunjangan</span><span>{formatCurrency(previewData.record.allowance)}</span></div>\n                   <div className=\"flex justify-between text-xs font-bold text-slate-600\"><span>Uang Makan</span><span>{formatCurrency(previewData.record.totalMealAllowance)}</span></div>\n                   <div className=\"flex justify-between text-xs font-bold text-rose-500\"><span>Potongan Telat</span><span>-{formatCurrency(previewData.record.deductions)}</span></div>\n                </div>\n                <div className=\"flex justify-between items-center p-4 bg-slate-900 text-white rounded-xl\">\n                  <span className=\"text-[10px] font-black uppercase\">TOTAL TAKE HOME PAY</span>\n                  <span className=\"text-base font-black\">{formatCurrency(previewData.record.netSalary)}</span>\n                </div>\n              </div>\n              <button onClick={() => handleSendSingle(previewData.user, previewData.record)} disabled={isProcessing} className=\"w-full bg-slate-900 text-white py-5 rounded-[2rem] font-black text-xs uppercase tracking-widest shadow-2xl hover:bg-blue-600 transition flex items-center justify-center gap-3\">\n                 <Send size={18} /> {previewData.record.isSent ? \"KIRIM ULANG SLIP\" : \"KIRIM SLIP VIA TELEGRAM\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Editing Salary Config Modal */}\n      {editingConfig && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4\">\n          <div className=\"bg-white rounded-[3.5rem] w-full max-w-lg p-12 shadow-2xl border border-white/20 animate-in zoom-in duration-300\">\n            <h3 className=\"text-2xl font-black text-slate-800 mb-8 italic uppercase\">Salary Configuration</h3>\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">GAJI POKOK (IDR)</label>\n                  <input type=\"number\" className=\"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-600 rounded-2xl outline-none font-black text-sm\" value={editingConfig.basicSalary} onChange={e => setEditingConfig({...editingConfig, basicSalary: Number(e.target.value)})} />\n                </div>\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">TUNJANGAN JABATAN</label>\n                  <input type=\"number\" className=\"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-600 rounded-2xl outline-none font-black text-sm\" value={editingConfig.allowance} onChange={e => setEditingConfig({...editingConfig, allowance: Number(e.target.value)})} />\n                </div>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">MAKAN (PER HARI)</label>\n                  <input type=\"number\" className=\"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-600 rounded-2xl outline-none font-black text-sm\" value={editingConfig.mealAllowance} onChange={e => setEditingConfig({...editingConfig, mealAllowance: Number(e.target.value)})} />\n                </div>\n                <div className=\"space-y-2\">\n                  <label className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">POTONGAN TELAT</label>\n                  <input type=\"number\" className=\"w-full p-4 bg-slate-50 border-2 border-transparent focus:border-blue-600 rounded-2xl outline-none font-black text-sm\" value={editingConfig.lateDeduction} onChange={e => setEditingConfig({...editingConfig, lateDeduction: Number(e.target.value)})} />\n                </div>\n              </div>\n            </div>\n            <div className=\"flex gap-4 mt-10\">\n              <button onClick={() => setEditingConfig(null)} className=\"flex-1 py-4 text-slate-400 font-black uppercase tracking-widest hover:bg-slate-100 rounded-2xl transition text-[10px]\">BATAL</button>\n              <button onClick={() => { onUpdateSalary(editingConfig); setEditingConfig(null); }} className=\"flex-1 bg-slate-900 text-white py-4 rounded-[1.5rem] font-black uppercase tracking-widest hover:bg-blue-600 transition text-[10px] shadow-xl\">SIMPAN CONFIG</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PayrollModule;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1562, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lenovo/Documents/erp-sdm-last/app/%5Brole%5D/payroll/page.tsx"],"sourcesContent":["'use client';\r\nimport React from 'react';\r\nimport PayrollModule from '@/components/Payroll';\r\nimport { useAppStore } from '@/context/StoreContext';\r\nimport { useToast } from '@/components/Toast';\r\n\r\nexport default function PayrollPage() {\r\n  const store = useAppStore();\r\n  const toast = useToast();\r\n  if (!store.currentUser) return null;\r\n  return (\r\n    <PayrollModule \r\n      currentUser={store.currentUser} \r\n      users={store.users} \r\n      salaryConfigs={store.salaryConfigs} \r\n      attendance={store.attendance} \r\n      settings={store.settings} \r\n      payrollRecords={store.payrollRecords} \r\n      onUpdateSalary={store.updateSalaryConfig} \r\n      onAddPayroll={store.addPayrollRecord} \r\n      toast={toast} \r\n    />\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,QAAQ,IAAA,iJAAW;IACzB,MAAM,QAAQ,IAAA,0IAAQ;IACtB,IAAI,CAAC,MAAM,WAAW,EAAE,OAAO;IAC/B,qBACE,6LAAC,2IAAa;QACZ,aAAa,MAAM,WAAW;QAC9B,OAAO,MAAM,KAAK;QAClB,eAAe,MAAM,aAAa;QAClC,YAAY,MAAM,UAAU;QAC5B,UAAU,MAAM,QAAQ;QACxB,gBAAgB,MAAM,cAAc;QACpC,gBAAgB,MAAM,kBAAkB;QACxC,cAAc,MAAM,gBAAgB;QACpC,OAAO;;;;;;AAGb;GAjBwB;;QACR,iJAAW;QACX,0IAAQ;;;KAFA"}}]
}